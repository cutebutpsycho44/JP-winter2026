<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Japan Trip üéå</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Mali', 'cursive'] },
                    colors: {
                        'bg-cream': '#FFF9F0',     
                        'card-white': '#FFFFFF',
                        'accent-pink': '#FFB7B2',   
                        'accent-green': '#B5EAD7',  
                        'accent-blue': '#C7CEEA',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-bg-cream text-gray-600 min-h-screen p-4 sm:p-8">

    <div class="max-w-2xl mx-auto">
        
        <header class="text-center mb-10">
            <h1 class="text-5xl font-bold text-gray-700 mb-2 drop-shadow-sm transform -rotate-2">
                Japan 2026 <span class="text-4xl">üå∏</span>
            </h1>
            <span class="bg-accent-pink text-white px-4 py-1 rounded-full text-sm font-bold shadow-sm">
                Travel Itinerary
            </span>
        </header>

        <div id="loading" class="text-center py-10">
            <div class="animate-bounce text-4xl mb-3">üç°</div>
            <p>Loading...</p>
        </div>

        <div id="timeline-container" class="space-y-5 hidden">
            </div>

    </div>

    <script>
        // ============================================
        // üëá ‡πÄ‡∏≠‡∏≤‡∏•‡∏¥‡∏á‡∏Å‡πå CSV ‡∏à‡∏≤‡∏Å Google Sheet ‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
        // ============================================
        const SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSsNmpYBJTnOp4Wa3lQy3VeTolxfSHKzRaXXGnM2k_C8iq0hYC4MlLLqSIb12Ml8fDDw6AhPp6ePFds/pub?gid=289892197&single=true&output=csv"; 

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö
        document.addEventListener('DOMContentLoaded', () => {
            fetchData();
        });

        function fetchData() {
            Papa.parse(SHEET_CSV_URL, {
                download: true,
                header: true,
                complete: function(results) {
                    renderTimeline(results.data);
                },
                error: function(err) {
                    console.error("Error:", err);
                    document.getElementById('loading').innerHTML = "‚ùå ‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå CSV ‡∏ô‡∏∞";
                }
            });
        }

        function renderTimeline(data) {
            const container = document.getElementById('timeline-container');
            const loading = document.getElementById('loading');
            
            loading.classList.add('hidden'); // ‡∏ã‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡πÇ‡∏´‡∏•‡∏î
            container.classList.remove('hidden'); // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

            data.forEach((row, index) => {
                // ‡∏Ç‡πâ‡∏≤‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ß‡πà‡∏≤‡∏á
                if (!row.Activity && !row.Time) return;

                // ‡∏™‡∏∏‡πà‡∏°‡∏™‡∏µ‡∏Ç‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î
                const colors = ['border-accent-pink', 'border-accent-green', 'border-accent-blue'];
                const randomColor = colors[index % colors.length];

                // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î HTML
                const card = document.createElement('div');
                card.className = `bg-card-white p-5 rounded-2xl border-l-8 shadow-sm hover:shadow-md transition-all hover:-translate-y-1 ${randomColor}`;

                // ‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô
                // **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ï‡∏£‡∏á row.xxx ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ô Sheet ‡πÄ‡∏õ‡πä‡∏∞‡πÜ**
                card.innerHTML = `
                    <div class="flex justify-between items-start gap-4">
                        <div class="flex-1">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="bg-gray-100 px-3 py-1 rounded-lg text-sm font-bold">
                                    üïí ${row.Time || ''}
                                </span>
                                <span class="text-xs text-gray-400 font-bold uppercase tracking-wide">
                                    ${row.Day || ''}
                                </span>
                            </div>
                            <h3 class="text-xl font-bold text-gray-700 mb-1">
                                ${row.Activity || 'No Title'}
                            </h3>
                            <p class="text-gray-500 text-sm">üìç ${row.Location || '-'}</p>
                            ${row.Note ? `<p class="mt-2 text-xs text-gray-400 bg-gray-50 p-2 rounded">üí° ${row.Note}</p>` : ''}
                        </div>
                        <div class="text-3xl bg-gray-50 p-3 rounded-full">
                            ${getIcon(row.Type)}
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function getIcon(type) {
            if (!type) return '‚ú®';
            let t = type.toLowerCase();
            if (t.includes('food') || t.includes('‡∏Å‡∏¥‡∏ô')) return 'üçú';
            if (t.includes('travel') || t.includes('‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á')) return 'üöÑ';
            if (t.includes('shop') || t.includes('‡∏ä‡πâ‡∏≠‡∏õ')) return 'üõçÔ∏è';
            if (t.includes('hotel') || t.includes('‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å')) return 'üè®';
            if (t.includes('photo') || t.includes('‡∏£‡∏π‡∏õ')) return 'üì∏';
            return 'üéà';
        }
    </script>
</body>
</html>
